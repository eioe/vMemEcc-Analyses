a <- 1:5
knitr::opts_chunk$set(echo = TRUE)
df <- tibble(a,b,c)
df <- data.frame(a,b,c)
a <- 1:5
b <- 6:10
c <- c(1,1,1,0,0)
df <- data.frame(a,b,c)
library(tidyverse)
a <- 1:5
b <- 6:10
c <- c(1,1,1,0,0)
df <- data.frame(a,b,c)
knit_with_parameters('C:/Users/Felix/Downloads/test.Rmd')
library(tidyverse)
library(stringr)
fpath <- file.path('C:', 'Users', 'Felix', 'Downloads')
fname <- file.path(fpath, 'Objects (5).txt')
dat <- read_csv(fname)
fname_olist <- file.path(fpath, 'list.txt')
olist <- read_table(fname_olist, skip=7)
os <- unique(dat$`name of object`)
os
blocktypes <- unique(dat$blockDesc)
blocktypes
os_list <- list()
for (bt in blocktypes)  {
obs <- dat %>% filter(blockDesc==bt) %>%
pull(`name of object`)
os_list[[bt]] <- append(os_list[[bt]], unique(obs))
}
dat <- dat %>% rename(noob = `name of object`)
n_trials = list()
for (cond in c('EXPERIMENT_ROTATION', 'EXPERIMENT_NO_ROTATION')) {
n_trials[[cond]] <- dat %>%  filter(blockDesc == cond) %>%  group_by(block, trial) %>% pull(`name of object`) %>% unique()
}
fname_olist <- file.path(fpath, 'list.txt')
olist <- read_table(fname_olist, skip=7, col_names=FALSE)
olist_clean <- olist %>% set_names(c('date', 'time', 'name'))
obj_list <- olist_clean %>% filter(str_detect(name, '\\.prefab$')) %>% select(name) %>% separate(name, into=c(NA,'name2', NA), sep=' |.pre')
View(olist_clean)
View(obj_list)
dat <- read_csv(fname)
fname_olist <- file.path(fpath, 'list.txt')
olist <- read_table(fname_olist, skip=7)
os <- unique(dat$`name of object`)
os
length(os)
setdiff(obj_list, os)
obj_list
setdiff(obj_list$name2, os)
diff <- setdiff(obj_list$name2, os)
length(diff)
os
obj_list$name2
unique(dat$`name of object`)
fpath <- file.path('C:', 'Users', 'Felix', 'Downloads', '19a', '19a', 'Ses00')
fname <- file.path(fpath, 'Objects (5).txt')
dat <- read_csv(fname)
fname <- file.path(fpath, 'Objects.txt')
dat <- read_csv(fname)
os <- unique(dat$`name of object`)
os
os <- sort(unique(dat$`name of object`))
os
fpath <- file.path('C:', 'Users', 'Felix', 'Downloads') # , '19a', '19a', 'Ses00')
fname <- file.path(fpath, 'Objects (5).txt')
dat <- read_csv(fname)
os <- sort(unique(dat$`name of object`))
os
length(os)
fpath <- file.path('C:', 'Users', 'Felix', 'Downloads', '19a', '19a', 'Ses00')
fname <- file.path(fpath, 'Objects.txt')
dat <- read_csv(fname)
os <- sort(unique(dat$`name of object`))
length(n_trials)
length(os)
os
blocktypes <- unique(dat$blockDesc)
blocktypes
os_list <- list()
for (bt in blocktypes)  {
obs <- dat %>% filter(blockDesc==bt) %>%
pull(`name of object`)
os_list[[bt]] <- append(os_list[[bt]], unique(obs))
}
dat <- dat %>% rename(noob = `name of object`)
n_trials = list()
for (cond in c('EXPERIMENT_ROTATION', 'EXPERIMENT_NO_ROTATION')) {
n_trials[[cond]] <- dat %>%  filter(blockDesc == cond) %>%  group_by(block, trial) %>% pull(`name of object`) %>% unique()
}
n_trials = list()
for (cond in c('EXPERIMENT_ROTATION', 'EXPERIMENT_NO_ROTATION')) {
n_trials[[cond]] <- dat %>%  filter(blockDesc == cond) %>%  group_by(block, trial) %>% pull(noob) %>% unique()
}
ha$noob
n_trials <- dat %>%  group_by(block, trial)
dat <- dat %>% rename(noob = `name of object`)
n_trials = list()
for (cond in c('EXPERIMENT_ROTATION', 'EXPERIMENT_NO_ROTATION')) {
n_trials[[cond]] <- dat %>%  filter(blockDesc == cond) %>%  group_by(block, trial) %>% pull(noob) %>% unique()
}
n_trials <- dat %>%  group_by(block, trial)
View(n_trials)
View(os_list)
View(n_trials)
os_list$PRACTICE_NO_ROTATION
os_list$EXPERIMENT_ROTATION
n_trials = list()
for (cond in c('EXPERIMENT_ROTATION', 'EXPERIMENT_NO_ROTATION')) {
n_trials[[cond]] <- dat %>%  filter(blockDesc == cond) %>%  group_by(block, trial) %>% pull(noob) %>% unique()
}
View(n_trials)
dat %>%  group_by(noob) %>%  count()
dat %>%  group_by(bolckdesc, noob) %>%  count()
dat %>%  group_by(bolckDesc, noob) %>%  count()
dat %>%  group_by(blockDesc, noob) %>%  count()
dat %>%  group_by(blockDesc, noob) %>%  count() %>%  select(noob) %>%  count()
ha <- dat %>%  group_by(blockDesc, noob) %>%  count() %>%  select(noob) %>%  count()
View(ha)
dat <- read_csv(fname)
dat <- dat %>% rename(noob = `name of object`)
ha <- dat %>%  group_by(blockDesc, noob) %>%  count() %>%  select(noob) %>%  count()
ha
ha <- dat %>%  group_by(blockDesc, noob) %>%  count() %>%  ungroup() %>%  select(noob) %>%  count()
ha
ha <- dat %>%  group_by(noob, blockDesc) %>%  count() %>%  ungroup() %>%  select(noob) %>%  count()
ha
ha <- dat %>%  group_by(noob, blockDesc) %>%  count() %>%  select(noob) %>%  count()
ha
ha <- dat %>%  group_by(noob, blockDesc) %>%  count() %>%  ungroup() %>%  select(noob) %>% group_by(noob) %>%  count()
ha
ha <- dat %>%  group_by(noob, blockDesc) %>%  count() %>%  ungroup() %>%  select(blockDesc) %>% group_by(noob) %>%  count()
ha <- dat %>%  group_by(noob, blockDesc) %>%  count() %>%  ungroup() %>%  select(blockDesc) %>%   count()
ha <- dat %>%  group_by(noob, blockDesc) %>%  count() %>%  ungroup() %>%  select(blockDesc) %>% group_by(blockDesc) %>%  count()
fpath <- file.path('C:', 'Users', 'Felix', 'Downloads') # , '19a', '19a', 'Ses00')
fname <- file.path(fpath, 'Objects (5).txt')
dat <- read_csv(fname)
os <- sort(unique(dat$`name of object`))
os
fpath <- fpath <- file.path('C:', 'Users', 'Felix', 'Downloads')
library(rjson)
fpath <- fpath <- file.path('C:', 'Users', 'Felix', 'Downloads')
fname <- 'VMTObjectDatabase.txt'
? fromJSON
fname <- file.path(fpath, 'VMTObjectDatabase.txt')
obj_db <- fromJSON(file = fname)
obj_db
unlist(obj_db)
ha <- unlist(obj_db)
obj_db$generatedDB
obj_db$generatedDB$objName
obj_db$generatedDB[$]1]objName
obj_db$generatedDB[1]$objName
obj_db$generatedDB[[1]]$objName
obj_db$generatedDB[[14]]$objName
obj_db$generatedDB[[14]]
obj_db$generatedDB[[14]]$objectName
obj_db$generatedDB$objectName
obj_db_df <- list()
obj_db_df <- list()
for (ob in obj_db$generatedDB) {
obj_db_df <- append(obj_db_df, ob$objectName)
}
fpath <- fpath <- file.path('C:', 'Users', 'Felix', 'Downloads')
fname <- file.path(fpath, 'VMTObjectDatabase.txt')
obj_db_full <- fromJSON(file = fname)
obj_db <- list()
for (ob in obj_db_full$generatedDB) {
obj_db_df <- append(obj_db_df, ob$objectName)
}
knitr::opts_chunk$set(echo = FALSE)
library(tidyverse)
library(lubridate)
library(stringr)
fpath <- file.path('C:', 'Users', 'Felix', 'Downloads', 'mim19_3', 'mim19_3', 'Ses00') # , '19a', '19a', 'Ses00')
fname <- file.path(fpath, 'Objects.txt')
dat <- read_csv(fname)
options(scipen=5)
dat2 <- dat %>% mutate(time = as.POSIXct(timeStamp, format = "%Y/%m/%d-%H:%M:%OS")) %>%
filter(phase == 'RECALL',
str_detect(blockDesc, 'EXPERIMENT')) %>%
group_by(block, cluster, trial, `name of object`) %>%
arrange(`name of object`) %>%
mutate(time_diff = time - lag(time),
time_lag = lag(time),
obs_nr = row_number())
dat2 %>%
ungroup() %>%
group_by(block, cluster, trial, obs_nr) %>%
summarize(time_spread = diff(range(time))) %>%
ggplot(aes(x=time_spread)) + geom_histogram(bins = 500) +
theme_classic() +
xlab('Time diff (s)') + ggtitle('Spread within single sampling points')
#hist(as.numeric(dat2$time_spread), breaks=500)
View(dat2)
dat2
dat2 %>%  group_by(block, cluster, trial, obs_nr) %>% summarise(n())
dat2 %>%  group_by(block, cluster, trial, obs_nr) %>% summarise(n()) -> ha
View(ha)
